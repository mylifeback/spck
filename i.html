<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
            #hello {background-color: yellow;}
		</style>
        <link rel="icon" type="image/x-icon" href="src/favicon.ico">
    </head>
    <body>
        <script type="importmap">
            {
                "imports" :{
                    "three" : "./src/three170.js",
                    "three/addons/controls/" : "./src/"
                }
            }
        </script>
        <script type="module">

            import * as THREE from "three";
            import { TrackballControls } from 'three/addons/controls/TrackballControls.js';
            
            let camera, scene, renderer;
            let controls;
            let geometry, material, mesh;
            camera = new THREE.PerspectiveCamera(
                60,
                window.innerWidth / window.innerHeight,
                0.1, 1000
            );
            camera.position.z = 800;
            camera.position.x = 0;
            camera.lookAt (50,100,10);

            scene = new THREE.Scene();
            scene.add(camera);

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.domElement.id = "hello";
            document.body.appendChild(renderer.domElement);
            
            const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
            dirLight.position.set(200, 200, 200);
            scene.add(dirLight);





            geometry = new THREE.PlaneGeometry (200,200,200);
            material = new THREE.MeshBasicMaterial({
                wireframe: false,
                side: THREE.DoubleSide,
        //      transparent: true,
                color: 0x0000ff});
            mesh = new THREE.Mesh(geometry, material);
            mesh.rotation.set(-90,0,0);
            scene.add(mesh);
            // console.log (mesh.position);
            // console.log (mesh.rotation);


            geometry = new THREE.BoxGeometry (30,20,20);
            material = new THREE.MeshBasicMaterial({
                wireframe: false,
                color: 0x00ff00});
            mesh = new THREE.Mesh(geometry, material);
            mesh.position.set (0, 0, 30);
            scene.add(mesh);
            // console.log (mesh.position);









            function createControls (camera) {
                controls = new TrackballControls (camera, renderer.domElement);
                controls.rotateSpeed = 1.0;
                controls.zoomSpeed = 0.5;
                controls.panSpeed = 0.5;
                controls.keys = ["KeyA", "KeyS", "KeyD"];
            }

            function frame (time){
                controls.update();
                renderer.render(scene, camera);
                // requestAnimationFrame(frame);
                console.log (camera.position);
            }

            function onResize () {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix ();
                renderer.setSize (window.innerWidth, window.innerHeight);
                requestAnimationFrame(render);  
            }  

            createControls (camera);
            window.addEventListener('resize', onResize);
            setInterval (frame, 100);


        </script>

    </body>
</html>