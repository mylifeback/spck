<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0"
    />
    <link type="text/css" rel="stylesheet" href="./src/main.css" />
    <link rel="icon" type="image/x-icon" href="./src/favicon.ico" />

    <meta name="apple-mobile-web-app-status-bar" content="#aa7700" />
    <meta name="theme-color" content="black" />
    <meta
      http-equiv="Permissions-Policy"
      content="interest-cohort=(), user-id=()"
    />
    <title id="title">ollama - llama3.2:3b</title>
    <style>
      body {
        background-color: beige;
      }
    
      #question {
        border: solid red 2px;
        color: yellow;
        background-color: white;
        width: 300px;
        height: 50px;
        margin: 20px;
      }
      
      #submit {
        margin: 20px;
        background-color: green;
      }
      
      #answer {
        border: solid red 2px;
        color: red;
        width: 300px;
        height: 200px;
        margin: 20px;
      }
    </style>
  </head>

  <body>
    <div id="topic">llama3.2:3b</div>
    <div id="question"></div>
    <button id="submit">submit</button>
    <div id="answer">AAA</div>
    
    <script type="module">
      
      // const url = "localhost:11434/api/generate%20-d%20'{"model":%20"llama3.2:3b",%20"prompt":%20"Why%20is%20the%20sky%20blue?", "stream": false}'"
      // const str = ˋlocalhost:11434/api/generate -d '{"model": "llama3.2:3b", "prompt": "Why is the sky blue?", "stream": false}'ˋ
      // const url = new URL (str);
      // const url = "https://jsonplaceholder.typicode.com/todos/1"
      
      const test = ˋ
      "'sl { :'"s ;a;'
      ˋ;
      console.log (test);
      
      const question = document.getElementById("question");
      const answer = document.getElementById("answer");
      const submit = document.getElementById("submit");
      
      submit.addEventListener("click", submitting);
   

    
      function submitting (){
        console.log("submitting");
        const q = question.textContent;
        fetch ('https://jsonplaceholder.typicode.com/todos/1')
        // fetch ("http://localhost:11434/api/generate -d '{"model": "llama3.2", "prompt": "Why is the sky blue?"}')
        .then (function (response) {
              return response.json();})
        .then (function (json) {
              console.log(json);
              return json;
              ;})
        .then (function (object) { 
              console.log (object["id"]);
              answer.textContent = object["id"];
              // console.log(object["response"]);
              // answer.textContent = object["response"];
        })
        .catch (function(error){console.log("error");})
      }


    </script>
  </body>
</html>
