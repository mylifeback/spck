<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
</head>
<body>
  <div id="monitor" style="background-color: yellow; color: red; border: red solid 1px; width: 50%; padding: 20px;">hello</div>
  <br>
  <button id="button" onclick="submit()">hit me</button>
  <br>
  <br>
  <div id="command" style="background-color: antiquewhite; color: darkblue; border: red solid 2px; width: 50%; padding: 20px;"> command </div>
  
  <script>
    const monitor = document.getElementById("monitor");
    const command = document.getElementById("command");
    url = "https://crawford1903.mynetgear.com:9099/a";
    let m = 0;
    function increment (){
      m++;
      monitor.innerText = m.toString();
    }
    setInterval (increment, 1000);
    
    // const r = fetch("https://apple.com");
    // console.log(r);
    
    async function send (){
        try {
          console.log("before");
          const response = await fetch (url);
          console.log("after");
          if (!response.ok) {
            throw new Error ("no response");
          }
          let reply = response.text();
          monitor.innerText = reply;
          console.log (reply);
        } catch {
          console.error (error.message);
        }
        
    }
    
    function submit (){
      console.log("hit");
      send (command.innerText);
     // fetch ("https://crawford1903.mynetgear.com:9099/a")
    //  .then(x => console.log(x););
    }
  </script>
</body>

</html>